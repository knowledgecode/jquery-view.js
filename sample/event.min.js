//     Zepto.js
//     (c) 2010-2012 Thomas Fuchs
//     Zepto.js may be freely distributed under the MIT license.
(function(d){function g(a){return a._zid||(a._zid=w++)}function r(a,b,c,d){b=s(b);if(b.ns)var e=RegExp("(?:^| )"+b.ns.replace(" "," .* ?")+"(?: |$)");return(k[g(a)]||[]).filter(function(a){return a&&(!b.e||a.e==b.e)&&(!b.ns||e.test(a.ns))&&(!c||g(a.fn)===g(c))&&(!d||a.sel==d)})}function s(a){a=(""+a).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}function t(a,b,c){"string"!=d.type(a)?d.each(a,c):a.split(/\s/).forEach(function(a){c(a,b)})}function l(a,b,c,h,e,p){var m=g(a),u=k[m]||(k[m]=
[]);t(b,c,function(b,c){var f=s(b);f.fn=c;f.sel=h;f.e in q&&(c=function(a){var b=a.relatedTarget;if(!b||b!==this&&!d.contains(this,b))return f.fn.apply(this,arguments)});f.del=e&&e(c,b);var m=f.del||c;f.proxy=function(b){var c=m.apply(a,[b].concat(b.data));!1===c&&(b.preventDefault(),b.stopPropagation());return c};f.i=u.length;u.push(f);a.addEventListener(q[f.e]||f.e,f.proxy,f.del&&("focus"==f.e||"blur"==f.e)||!!p)})}function n(a,b,c,d,e){var p=g(a);t(b||"",c,function(b,c){r(a,b,c,d).forEach(function(b){delete k[p][b.i];
a.removeEventListener(q[b.e]||b.e,b.proxy,b.del&&("focus"==b.e||"blur"==b.e)||!!e)})})}function v(a){var b,c={originalEvent:a};for(b in a)!x.test(b)&&void 0!==a[b]&&(c[b]=a[b]);d.each(y,function(b,d){c[b]=function(){this[d]=z;return a[b].apply(a,arguments)};c[d]=A});return c}var k={},w=1,j={},q={mouseenter:"mouseover",mouseleave:"mouseout"};j.click=j.mousedown=j.mouseup=j.mousemove="MouseEvents";d.event={add:l,remove:n};d.proxy=function(a,b){if(d.isFunction(a)){var c=function(){return a.apply(b,arguments)};
c._zid=g(a);return c}if("string"==typeof b)return d.proxy(a[b],a);throw new TypeError("expected function");};d.fn.bind=function(a,b){return this.each(function(){l(this,a,b)})};d.fn.unbind=function(a,b){return this.each(function(){n(this,a,b)})};d.fn.one=function(a,b){return this.each(function(c,d){l(this,a,b,null,function(a,b){return function(){var c=a.apply(d,arguments);n(d,b,a);return c}})})};var z=function(){return!0},A=function(){return!1},x=/^([A-Z]|layer[XY]$)/,y={preventDefault:"isDefaultPrevented",
stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};d.fn.delegate=function(a,b,c){return this.each(function(h,e){l(e,b,c,a,function(b){return function(c){var h,g=d(c.target).closest(a,e).get(0);if(g)return h=d.extend(v(c),{currentTarget:g,liveFired:e}),b.apply(g,[h].concat([].slice.call(arguments,1)))}})})};d.fn.undelegate=function(a,b,c){return this.each(function(){n(this,b,c,a)})};d.fn.live=function(a,b){d(document.body).delegate(this.selector,a,b);return this};
d.fn.die=function(a,b){d(document.body).undelegate(this.selector,a,b);return this};d.fn.on=function(a,b,c){return!b||d.isFunction(b)?this.bind(a,b||c):this.delegate(b,a,c)};d.fn.off=function(a,b,c){return!b||d.isFunction(b)?this.unbind(a,b||c):this.undelegate(b,a,c)};d.fn.trigger=function(a,b){if("string"==typeof a||d.isPlainObject(a))a=d.Event(a);var c=a;if(!("defaultPrevented"in c)){c.defaultPrevented=!1;var h=c.preventDefault;c.preventDefault=function(){this.defaultPrevented=!0;h.call(this)}}a.data=
b;return this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(a)})};d.fn.triggerHandler=function(a,b){var c,h;this.each(function(e,g){c=v("string"==typeof a?d.Event(a):a);c.data=b;c.target=g;d.each(r(g,a.type||a),function(a,b){h=b.proxy(c);if(c.isImmediatePropagationStopped())return!1})});return h};"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(a){d.fn[a]=
function(b){return b?this.bind(a,b):this.trigger(a)}});["focus","blur"].forEach(function(a){d.fn[a]=function(b){b?this.bind(a,b):this.each(function(){try{this[a]()}catch(b){}});return this}});d.Event=function(a,b){"string"!=typeof a&&(b=a,a=b.type);var c=document.createEvent(j[a]||"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];c.initEvent(a,d,!0,null,null,null,null,null,null,null,null,null,null,null,null);c.isDefaultPrevented=function(){return this.defaultPrevented};return c}})(Zepto);
